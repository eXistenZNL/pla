<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Pla - A coder's simplest workflow automation tool by Richard Tuin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Pla</h1>
      <h2 class="project-tagline">Coder&#39;s simplest workflow automation tool.</h2>
      <a href="https://github.com/rtuin/pla" class="btn">View on GitHub</a>
      <a href="https://github.com/rtuin/pla/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/rtuin/pla/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="pla" class="anchor" href="#pla" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pla</h1>

<p>Pla helps you automate workflows in a very simple way. Much like make, but with a yaml file structure.</p>

<p>It's a coder's simplest workflow automation tool.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>Use the pip installer to install Pla.</p>

<div class="highlight highlight-bash"><pre>$ pip install pla</pre></div>

<h3>
<a id="upgrade-an-existing-installation" class="anchor" href="#upgrade-an-existing-installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upgrade an existing installation</h3>

<p>When installed with Pip you can upgrade to the latest version using:</p>

<div class="highlight highlight-shell"><pre>$ pip install pla --upgrade</pre></div>

<h3>
<a id="install-from-git" class="anchor" href="#install-from-git" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install from git</h3>

<p>To install Pla from git you first need to make sure Pla is uninstalled. Then you must clone the repository and install 
the development version:</p>

<div class="highlight highlight-shell"><pre>$ pip uninstall pla
$ git clone git@github.com:rtuin/pla.git
$ <span class="pl-c1">cd</span> pla
$ pip install -e <span class="pl-c1">.</span></pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-shell"><pre>$ pla [target]</pre></div>

<p>If you do not provide a target, the default target called <code>all</code> will run.</p>

<h2>
<a id="start-working-with-pla" class="anchor" href="#start-working-with-pla" aria-hidden="true"><span class="octicon octicon-link"></span></a>Start working with Pla</h2>

<p>Pla works similar to <a href="https://www.gnu.org/software/make/">Make</a>. You define the targets in a Yaml file called <code>Plafile.yml</code>
and run the targets from the command line.</p>

<p>Lets say we use Pla to kickstart our working day. We will make a Plafile which starts our local dev server, starts our IDE
 and opens the application we're working on in the browser.</p>

<p>First create the Plafile with a target called <code>dev</code>:</p>

<div class="highlight highlight-yaml"><pre><span class="pl-c"># Plafile.yml</span>
<span class="pl-s"><span class="pl-ent">dev:</span></span>
  <span class="pl-s">- <span class="pl-s">docker-compose up -d</span></span>
  <span class="pl-s">- <span class="pl-s">pstorm .</span></span>
  <span class="pl-s">- <span class="pl-s">open http://local.project.url/</span></span></pre></div>

<p>Then simply run Pla from the command line:</p>

<div class="highlight highlight-bash"><pre>$ pla dev</pre></div>

<p>Pla will then run the shell commands you specified in the Plafile.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<h3>
<a id="linking-targets" class="anchor" href="#linking-targets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Linking targets</h3>

<p>As of Pla v0.2 it is possible to let your targets call each other. This is simply done by refering to the target 
prepended with an <code>=</code> sign. Like so:</p>

<div class="highlight highlight-yaml"><pre><span class="pl-c"># Plafile.yml</span>
<span class="pl-s"><span class="pl-ent">up:</span></span>
  <span class="pl-s">- <span class="pl-s">docker-compose up -d</span></span>
  <span class="pl-s">- <span class="pl-s">=updatecode</span></span>
  <span class="pl-s">- <span class="pl-s">pstorm .</span></span>
  <span class="pl-s">- <span class="pl-s">open http://local.project.url/</span></span>

<span class="pl-s"><span class="pl-ent">updatecode:</span></span>
  <span class="pl-s">- <span class="pl-s">git submodule update --init --recursive</span></span>
  <span class="pl-s">- <span class="pl-s">composer install</span></span></pre></div>

<h3>
<a id="target-parameters" class="anchor" href="#target-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Target parameters</h3>

<p>Pla v0.3 gives you the ability to variables in target commands. This feature is called target parameters.</p>

<p>Simply define the parameters in the target definition, and put them in your command. Enclosing the parameters name with 
<code>%</code> signs. For example:</p>

<div class="highlight highlight-yaml"><pre><span class="pl-c"># Plafile.yml</span>
<span class="pl-s"><span class="pl-ent">pr[number]:</span></span>
  <span class="pl-s">- <span class="pl-s">git pr %number%</span></span>
  <span class="pl-s">- <span class="pl-s">git pull upstream master</span></span></pre></div>

<p>You can then call the target like this:</p>

<div class="highlight highlight-bash"><pre>$ pla pr 123</pre></div>

<p><strong>Disclaimer</strong> The current implementation of target parameters is built to work only when you directly call the
  parametrized target.</p>

<h3>
<a id="command-os-filter" class="anchor" href="#command-os-filter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command OS filter</h3>

<p>When you run the same Pla target on multiple operating systems you might want to specify which command to execute on what OS.
You can do this by prefixing your command with a filter that indicates the OS's family name.</p>

<div class="highlight highlight-yaml"><pre><span class="pl-c"># Plafile</span>
<span class="pl-s"><span class="pl-ent">os:</span></span>
  <span class="pl-s">- <span class="pl-s">(darwin) echo "Mac OS"</span></span>
  <span class="pl-s">- <span class="pl-s">(redhat) echo "RedHat family"</span></span>
  <span class="pl-s">- <span class="pl-s">(ubuntu|darwin) echo "Ubuntu or Mac OS"</span></span>
  <span class="pl-s">- <span class="pl-s">(debian) echo "Debian"</span></span></pre></div>

<p>If you run <code>pla os</code> on a Mac, you'll get the following output:</p>

<pre><code>Running target "os":
    ✔ (darwin) echo "Mac OS"
    . (redhat) echo "RedHat family"
    ✔ (ubuntu|darwin) echo "Ubuntu or Mac OS"
    . (debian) echo "Debian"
</code></pre>

<p><strong>Operating systems matches</strong></p>

<table>
<thead>
<tr>
<th>System/Family</th>
<th>Match</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td>linux</td>
</tr>
<tr>
<td>Ubuntu</td>
<td>ubuntu</td>
</tr>
<tr>
<td>Red Hat</td>
<td>redhat</td>
</tr>
<tr>
<td>Mac OS</td>
<td>darwin</td>
</tr>
<tr>
<td>Windows</td>
<td>windows</td>
</tr>
</tbody>
</table>

<h2>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changelog</h2>

<p>All notable changes are documented in the <a href="CHANGELOG.md">changelog file</a>.</p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<ul>
<li><a href="https://github.com/rtuin">Richard Tuin</a></li>
<li><a href="../../contributors">All Contributors</a></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>The MIT License (MIT). Please see the <a href="LICENSE">license file</a> for more information.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/rtuin/pla">Pla</a> is maintained by <a href="https://github.com/rtuin">rtuin</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-259721-9");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

